{% extends 'admin-base.html' %}
{% load static %}

{% block content %}
<div class="main">

    <div class="main-content project">
        <div class="row">
            <div class="col-9 col-xl-7 col-md-8 col-sm-12">
                <div class="box card-box p-1">
                    <div class="icon-box bg-color-6 d-block ">

                        <div class="content text-center color-6 ">
                            <h5 class="title-box fs-17 font-w500">Total Clients</h5>
                            <div class="themesflat-counter fs-18 font-wb">
                                <span class="number" data-from="0" data-to="309" data-speed="2500"
                                    data-inviewport="yes">{{cliients_count}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="icon-box bg-color-8 d-block">

                        <div class="content text-center color-8">
                            <h5 class="title-box fs-17 font-w500">Newly Acquired </h5>
                            <div class="themesflat-counter fs-18 font-wb">
                                <span class="number" data-from="0" data-to="309" data-speed="2500"
                                    data-inviewport="yes">{{newly_acquired_clients_counts}}</span>

                            </div>
                            <span style="font-size: 12px;color: black;">since last month</span>
                        </div>
                    </div>

                </div>
            </div>
            <div class="col-3 col-xl-5 col-md-4 col-sm-12">
                <div class="box h-100 d-flex align-items-center" style="background-color: transparent;padding: 0;">
                    <a class="create d-flex bg-primary justify-content-center" href="{% url 'myadmin:client-create' %}">
                        <div class="icon color-white pt-4 pr-8">
                            <i class='bx bx-plus-circle'></i>
                        </div>
                        <div class="content">
                            <h5 class="color-white">Add New Client</h5>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="">
                <div class="box-header pt-0 pl-0 ms-0 mb-4 mt-4 border-bottom-0 responsive-header">
                    <h4 class="box-title fs-22">All Clients</h4>
                    <div class="card-options">
                        <div class="btn-list d-flex">
                            <a href="#" class="btn btn-primary d-flex align-items-center mr-5"><i
                                class="fas fa-eye mr-5"></i>Table View</a>
                            <a href="#" class="btn btn-light d-flex align-items-center mr-5"><i
                                    class="fas fa-eye mr-5"></i>Box View</a>
                            <a href="#" class="btn btn-light me-0 dropdown-toggle d-flex align-items-center"
                                data-bs-toggle="dropdown" aria-expanded="false"> Latest <i
                                    class="feather feather-chevron-down"></i> </a>
                            <ul class="dropdown-menu dropdown-menu-end" role="menu">
                                <li><a href="#">A-Z</a></li>
                                <li><a href="#">Top</a></li>
                             
                            </ul>
                        </div>
                    </div>
                </div>


                <div class="box ">

                    <div class="box-body pb-0 table-responsive activity mt-0">
                        <table class="table table-vcenter text-nowrap table-bordered dataTable no-footer mw-100"
                            id="task-profile" role="grid">
                            <thead>

                                <tr class="top">
                                    <th class="border-bottom-0 sorting fs-14 font-w500" tabindex="0"
                                        aria-controls="task-profile" rowspan="1" colspan="1" style="width: 222.312px;">
                                        Client ID</th>
                                    <th class="border-bottom-0 sorting fs-14 font-w500" tabindex="0"
                                        aria-controls="task-profile" rowspan="1" colspan="1" style="width: 222.312px;">
                                        Client Name</th>
                                    <th class="border-bottom-0 sorting fs-14 font-w500" tabindex="0"
                                        aria-controls="task-profile" rowspan="1" colspan="1" style="width: 84.8281px;">
                                        Gender</th>
                                    <th class="border-bottom-0 sorting fs-14 font-w500" tabindex="0"
                                        aria-controls="task-profile" rowspan="1" colspan="1" style="width: 87.9844px;">
                                        Phone No.</th>
                                    <th class="border-bottom-0 sorting fs-14 font-w500" tabindex="0"
                                        aria-controls="task-profile" rowspan="1" colspan="1" style="width: 150.9844px;">
                                        Email</th>
                                    <th class="border-bottom-0 sorting fs-14 font-w500" tabindex="0"
                                        aria-controls="task-profile" rowspan="1" colspan="1" style="width: 51.875px;">
                                        Last Worked With</th>
                                    <th class="border-bottom-0 sorting fs-14 font-w500" tabindex="0"
                                        aria-controls="task-profile" rowspan="1" colspan="1" style="width: 110.719px;">
                                        Total Projects</th>
                                        <th class="border-bottom-0 sorting fs-14 font-w500" tabindex="0"
                                        aria-controls="task-profile" rowspan="1" colspan="1" style="width: 110.719px;">
                                        Ongoing Projects</th>
                                    <th class="border-bottom-0 sorting_disabled fs-14 font-w500" rowspan="1" colspan="1"
                                        style="width: 145.391px;">Action</th>
                                </tr>
                            </thead>
                            <tbody>

                                {% for client in clients %}
                                <tr class="class={% cycle 'odd' 'even' %}">
                                    <td>
                                        <a href="{% url 'myadmin:client-detail'   client.pk %}" class="d-flex ">
                                            <span>
                                                <b>#{{client.client_id}}</b>
                                            </span>
                                        </a>
                                    </td>
                                    <td>
                                        <a href="#" class="d-flex "> <span>{{client.full_name}}</span> </a>
                                    </td>
                                    <td>
                                        {{client.gender}}
                                    </td>
                                    <td>{{client.phone_number}}</td>
                                    <td>{{client.email}}</td>
                                 
                                    <td>{{client.last_worked_with|date}}</td>
                                 
                                    <td><span class="badge badge-primary">
                                            {{client.all_outfit_order|length}}
                                        </span>
                                    </td>
                                    <td><span class="badge badge-warning">
                                        {{client.pending_outfit_order|length}}
                                    </span>
                                </td>
                                    <td>
                                        <div class="dropdown">
                                            <a href="javascript:void(0);" class="btn-link" data-bs-toggle="dropdown"
                                                aria-expanded="false">
                                                <i class='bx bx-dots-horizontal-rounded'></i>
                                            </a>
                                            <div class="dropdown-menu dropdown-menu-right">
                                                <a class="dropdown-item" href="{% url 'myadmin:client-detail'   client.pk %}" 
                                                ><i class="bx bx-edit mr-5"></i>View Details</a>
                                                <a class="dropdown-item" href="{{client.whatsapp_link}}" ><i class="bx bx-whatsapp"></i> Chat On Whatsapp</a>
                                                <a class="dropdown-item" href="#" data-toggle="modal"
                                                    data-target="#edit_client"><i class="bx bx-edit mr-5"></i>Edit</a>

                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                {% endfor %}



                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<div class="overlay"></div>


{% endblock %}